# 간밤의 꿈 — 레이아웃 구조도

## UI 설계 원리: "Dream Nebula" 컨셉

꿈 = 성운/구름/별자리 → SVG 성운 시각화(Dream Cloud Map)가 UI 뼈대
텍스트 자유 입력 → 키워드 매칭 → 성운 밀도와 구름 크기로 꿈의 강도 표현

## 화면 흐름
```
input (텍스트 입력) → revealing (수정구슬 2.5초) → result (세로 스크롤)
```

## Input 화면 (home)

```
┌─────────────────────────┐
│     간밤의 꿈             │  ← 헤더 (glassmorphism)
│  [🔥 N일 연속]           │  ← streak badge (조건부)
├─────────────────────────┤
│                         │
│    🔮                   │  ← 수정구슬 아이콘 (float 애니메이션)
│  오늘 꿈에서 뭘 봤어?     │  ← 타이틀
│  떠오르는 장면을 적어봐    │  ← 서브타이틀
│                         │
│  ┌─────────────────┐    │
│  │ 꿈 내용을 자유롭게│    │  ← textarea (자유 텍스트 입력)
│  │ 적어주세요...     │    │     minLength=2, 키워드 자동매칭
│  │                 │    │
│  │                 │    │
│  └─────────────────┘    │
│                         │
│  ☁️ 하늘을 날았어        │  ← 구름 칩 6개 (예시 꿈 텍스트)
│  🌊 바다에서 수영했어     │     탭하면 textarea에 자동 입력
│  🏫 학교에 다시 갔어      │
│  🏃 누군가에게 쫓겼어     │
│  👨‍👩‍👧 가족과 함께였어       │
│  🌧️ 비가 내리고 있었어    │
│                         │
│  [ 🔮 꿈 해몽하기 ]      │  ← CTA (핵심 기능, 광고 없음)
│                         │
│  ── 최근 해몽 ──         │  ← 최근 꿈 히스토리 (있을 때만)
│  ┌──────────────────┐   │
│  │ 계시몽✨ "바다에..." │   │  ← 최근 결과 카드 (최대 5개)
│  │ 2분 전             │   │     스와이프 삭제 가능
│  └──────────────────┘   │
│  ┌──────────────────┐   │
│  │ 소망몽💫 "하늘을..." │   │
│  └──────────────────┘   │
└─────────────────────────┘
```

## Reveal 화면 (수정구슬 애니메이션, ~2.5초)

```
┌─────────────────────────┐
│                         │
│         ✦   ✧           │  ← twinkle stars (6개, CSS animation)
│     ✧       ✦           │
│                         │
│       ╭──────────╮      │
│       │  🔮      │      │  ← 수정구슬 (pulse-glow + nebula-rotate)
│       │  crystal │      │     120px, 보라색 그라데이션
│       │  ball    │      │     radial glow 효과
│       ╰──────────╯      │
│                         │
│   "꿈의 파편을 읽고 있어"  │  ← 메시지 사이클링 (4개, 700ms 간격)
│                         │     → "성운을 들여다보는 중"
│                         │     → "상징을 해독하고 있어"
│                         │     → "꿈의 메시지가 보여"
│                         │
│     ·  ·  ·             │  ← 로딩 도트 (bounce 애니메이션)
│                         │
└─────────────────────────┘
```

## Result 화면 (세로 스크롤, 8개 섹션)

```
┌─────────────────────────┐
│                         │
│  Section 1: 꿈 상태 뱃지  │
│  ┌───────────────────┐  │
│  │     ✨              │  │  ← 상태 이모지 (계시몽=✨, 예지몽=🔮...)
│  │   "계시몽"          │  │  ← 상태 라벨 (색상은 상태별 고유)
│  │  우주가 당신에게     │  │  ← 상태 설명
│  │  메시지를 보내고 있어 │  │
│  └───────────────────┘  │
│                         │
│  Section 2: Dream Cloud Map ★ 유니크 │
│  ┌───────────────────┐  │
│  │  SVG viewBox 300x300│  │
│  │                   │  │
│  │   (○)    ◉        │  │  ← 위성 구름 (medium r=30)
│  │          |        │  │     연결선 (점선)
│  │      ╭────────╮   │  │
│  │      │  🌊    │   │  │  ← 중앙 핵심 구름 (large r=50)
│  │      │ "물"   │   │  │     최고 에너지 상징
│  │      ╰────────╯   │  │     radialGradient + blur filter
│  │     /          \  │  │     연결선
│  │   (○)         (○) │  │  ← 위성 구름들 (최대 4개)
│  │   🔥           🏠  │  │     각 매칭 상징의 이모지+이름
│  │                   │  │
│  │  ··· nebula particles···│ ← 성운 입자 (5개, float 애니메이션)
│  └───────────────────┘  │
│                         │
│  Section 3: 수정구슬의 해석   │
│  ┌───────────────────┐  │
│  │ 🔮 수정구슬의 해석      │  │  ← glassmorphism 말풍선
│  │                   │  │
│  │ "당신의 꿈은       │  │  ← kkumiComment (상태별)
│  │  깊은 의미가..."   │  │
│  │                   │  │
│  │ "물의 상징은       │  │  ← kkumiMessage (템플릿 생성)
│  │  감정의 흐름을..."  │  │
│  └───────────────────┘  │
│                         │
│  Section 4: 오늘의 행동   │
│  ┌───────────────────┐  │
│  │ 🧭 오늘의 행동      │  │  ← 액션 카드
│  │ "{symbolName}의     │  │     카테고리별 행동 템플릿
│  │  에너지를 받아..."  │  │
│  └───────────────────┘  │
│                         │
│  Section 5: 심층 분석 🔒  │  ← 프리미엄 1 (AD)
│  ┌───────────────────┐  │
│  │ 🧠 심층 분석        │  │
│  │ ┌─────────────┐   │  │
│  │ │ 블러 프리뷰  │   │  │  ← 미리보기 (블러 처리)
│  │ │ "꿈에서 나타난│   │  │
│  │ │  물의 상징..." │  │  │
│  │ │ ▒▒▒▒▒▒▒▒▒▒▒│   │  │
│  │ └─────────────┘   │  │
│  │  [AD 심층 분석 열기] │  │  ← AD 배지 버튼
│  │  광고 시청 후 심층   │  │  ← 사전 고지 문구
│  │  분석을 확인할 수 있어요│ │
│  └───────────────────┘  │
│                         │
│  Section 6: 주간 꿈 패턴 🔒│ ← 프리미엄 2 (AD)
│  ┌───────────────────┐  │
│  │ 📊 주간 꿈 패턴     │  │
│  │ ┌─────────────┐   │  │
│  │ │ 블러 프리뷰  │   │  │
│  │ │ "최근 꿈에서 │   │  │
│  │ │  자연/원소..." │  │  │
│  │ └─────────────┘   │  │
│  │  [AD 주간 패턴 열기] │  │  ← AD 배지 버튼
│  │  광고 시청 후 주간   │  │  ← 사전 고지 문구
│  │  패턴을 확인할 수 있어요│ │
│  └───────────────────┘  │
│                         │
│  Section 7: 상징 도감 🔒  │  ← 프리미엄 3 (AD)
│  ┌───────────────────┐  │
│  │ 📖 상징 도감  N/35  │  │
│  │ ┌──┬──┬──┬──┬──┐  │  │
│  │ │🌊│🔥│🌬️│🏠│🏃│  │  │  ← 이모지 그리드 미리보기
│  │ │💭│⭐│🌙│🌸│? │  │  │
│  │ └──┴──┴──┴──┴──┘  │  │
│  │  [AD 도감 열기]     │  │  ← AD 배지 버튼
│  │  광고 시청 후 도감을  │  │  ← 사전 고지 문구
│  │  열어볼 수 있어요    │  │
│  └───────────────────┘  │
│                         │
│  Section 8: 다른 꿈 해몽  │  ← 핵심 기능 (광고 없음)
│  [ 🔄 다른 꿈 해몽하기 ] │
│                         │
└─────────────────────────┘
```

### 프리미엄 잠금 해제 후

```
Section 5 해제: 심층 분석 (최대 5개 상징별 분석)
┌───────────────────┐
│ 🧠 심층 분석       │
│ ┌─────────────┐  │
│ │ 1. 물(🌊)의  │  │  ← 번호 + 이모지 + 상징명
│ │  깊은 의미...  │  │     심리학 기반 상세 분석
│ ├─────────────┤  │
│ │ 2. 불(🔥)의  │  │
│ │  에너지가...  │  │
│ └─────────────┘  │
└───────────────────┘

Section 6 해제: 주간 패턴
┌───────────────────┐
│ 📊 주간 꿈 패턴    │
│ 🌊 주요 카테고리:  │  ← 지배적 카테고리
│    자연/원소       │
│                   │
│ 자주 등장한 상징:   │
│ [🌊물 x3] [🔥불 x2]│  ← 빈도 배지
│                   │
│ 꿈 유형 분포:      │
│ 계시형 ████░ 3    │  ← 바 차트
│ 소망형 ██░░░ 2    │
│ 일상형 █░░░░ 1    │
│                   │
│ 💡 인사이트        │  ← 카테고리 기반 조언
│ "최근 꿈에서..."   │
└───────────────────┘

Section 7 해제: 상징 도감 (5카테고리 × 7)
┌───────────────────┐
│ 📖 상징 도감       │
│ N / 35 상징 수집   │
│                   │
│ ── 자연/원소 (N/7) │
│ ┌──┬──┬──┬──┐    │
│ │🌊│🔥│🌬️│? │    │  ← 수집=이모지+이름, 미수집="?"
│ │물│불│바람│???│   │
│ └──┴──┴──┴──┘    │
│ ── 장소 (N/7) ── │
│ ┌──┬──┬──┬──┐    │
│ │🏫│🏠│? │? │    │
│ └──┴──┴──┴──┘    │
│ ... (5 카테고리)   │
└───────────────────┘
```

## 차별화 체크리스트 (7항목)

| # | 항목 | today-fortune | star-fortune | tarot-pick | love-fortune | dubai-cookie | **간밤의 꿈** | 통과 |
|---|------|---------------|--------------|------------|--------------|--------------|------------|------|
| 1 | 등급 표현 | 원형 뱃지 | 별 척도 (★) | 빛의 강도 | pulse 하트 게이지 | 쿠키 감정 뱃지 | **꿈 상태 뱃지** (계시몽~일상몽) + 성운 밀도 | YES |
| 2 | 점수 시각화 | 바 차트 | 별 아이콘 | 마법진 삼각형 | ECG 심전도 | 쿠키 이미지 | **Dream Cloud Map** (SVG 성운+구름 노드) | YES |
| 3 | 아이템 카테고리 | 색/숫자/방향/시간 | 색/숫자/방향/시간 | 원소/아르카나/그림자/의식 | 데이트 시나리오 | 감정 22종 쿠키 | **원소/장소/행동/인물/감정** (꿈 전용 5카테고리 × 7) | YES |
| 4 | 조언 표현 | 카드 안 텍스트 | 여우 말풍선 | 고서 스타일 리딩 | 피기 채팅 | 쿠키 명언 | **수정구슬 말풍선** (수정구슬의 해석) + 행동 원라이너 | YES |
| 5 | 프리미엄 | 주간운세 잠금 | VS 별자리 매칭 | 연금술 리딩 블러 | 연애 타입 카드 | 컬렉션 열기 | **3단계** (심층분석/주간패턴/상징도감) 각각 별도 AD | YES |
| 6 | 화면 흐름 | 세로 스크롤 | 세로 스크롤 | 가로 스와이프 4p | 세로 스크롤 | 세로 스크롤 | **자유 텍스트 입력** → 수정구슬 → Cloud Map | YES |
| 7 | 고유 컴포넌트 | 주간 운세 그리드 | 별자리 선택 | 부채꼴 CardFan | ECG 파동 + 미션 | 쿠키 커팅 애니 | **DreamCloudMap** SVG 성운 시각화 | YES |

→ **7/7 통과**

## 입력 방식 차별화

| 앱 | 입력 방식 |
|----|----------|
| today-fortune | 자동 (탭 1회) |
| star-fortune | 별자리 선택 (12개) |
| tarot-pick | 부채꼴 카드 선택 (5장) |
| love-fortune | 자동 (탭 1회) |
| dubai-cookie | 이름 텍스트 입력 |
| **간밤의 꿈** | **자유 텍스트 서술** (전체 앱 중 유일) |

## 색상 테마

- primaryColor: `#1A1B4B` (deep indigo)
- accent: `#C4B5FD` (lavender)
- 다크 테마 (꿈/밤/성운 컨셉에 적합)
- 배경: `#0D0D1A` → `#1A1B4B` 그라데이션
- 표면: `rgba(255,255,255,0.05)` glassmorphism
